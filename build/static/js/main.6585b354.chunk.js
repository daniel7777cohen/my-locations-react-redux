(this["webpackJsonpmy-locations"]=this["webpackJsonpmy-locations"]||[]).push([[0],{42:function(e,t,n){},43:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c,a,r,i,o,s,d,l,u,j,b,p,g,f,x,O,h,y,m,v,w,C,S,k,E,T,R,D,_,A,I=n(0),L=n.n(I),z=n(20),N=n.n(z),J=(n(42),n(2)),G=(n(43),n(3)),Y=n(9),B=n.p+"static/media/minimize.b00c0255.svg",F=n.p+"static/media/maximize.0e63d99a.svg",W=n(7),M=n(5),P="LOAD_DATA",H="REMOVE_ALERTS",U="SET_ALERT",V="ADD_CATEGORY",q="SET_CURRENT_CATEGORY",X="SET_SIDEBAR_AS_TITLE",K="APPEND_ACTION_TO_TITLE",Q="EDIT_CATEGORY",Z="DELETE_CATEGORY",$=n(1),ee=G.a.div(c||(c=Object(J.a)(["\n  background-color: rgba(1, 101, 255, 0.85);\n  position: relative;\n  width: ",";\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n"])),(function(e){return e.collapsed?"20px":"150px"})),te=G.a.img(a||(a=Object(J.a)(["\n  position: absolute;\n  left: 100%;\n  transform: translateX(-50%);\n  top: 20px;\n  width: 24px;\n  height: 24px;\n  z-index: 2;\n"]))),ne=G.a.div(r||(r=Object(J.a)(["\n  height: 60px;\n  background-color: #0165ff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n\n  @media (max-width: 768px) {\n    min-height: 85px;\n  }\n"]))),ce=G.a.div(i||(i=Object(J.a)(["\n  margin: 15px 0;\n  cursor: pointer;\n  padding: 10px;\n  text-align: center;\n  background-color: ",";\n"])),(function(e){return e.selected?"#4f94fd":"auto"})),ae=G.a.span(o||(o=Object(J.a)(["\n  font-size: 16px;\n  font-weight: ",";\n  line-height: 1.43px;\n  color: #ffffff;\n"])),(function(e){return e.selected?"bold":"normal"})),re=Object(W.h)((function(){var e=Object(I.useState)(!1),t=Object(Y.a)(e,2),n=t[0],c=t[1],a=Object(W.g)(),r=Object(M.b)(),i=Object(I.useState)(null),o=Object(Y.a)(i,2),s=o[0],d=o[1],l=Object(I.useCallback)((function(){switch(a.location.pathname.split("/")[2]){case"view-categories":return r({type:X,payload:"Categories"}),"0";case"add-category":return r({type:X,payload:"Add a new category"}),"1";default:return null}}),[r,a.location]),u=function(e,t,n){d(e),a.push(t),r({type:X,payload:n})};return Object(I.useEffect)((function(){var e=l();d(e)}),[a,l]),Object($.jsxs)(ee,{collapsed:n,children:[Object($.jsx)(ne,{children:!n&&"<---\x3e"}),Object($.jsx)(te,{src:n?F:B,onClick:function(){c(!n)}}),Object($.jsx)(ce,{collapsed:n,selected:"0"===s,onClick:function(){u("0","/categories/view-categories","Category Display")},children:!n&&Object($.jsx)(ae,{children:"Category List"})}),Object($.jsx)(ce,{collapsed:n,selected:"1"===s,onClick:function(){u("1","/categories/add-category","Add a new category")},children:!n&&Object($.jsx)(ae,{children:"New Category"})})]})})),ie=n(6),oe=n(23),se=n(54),de=function(e,t){return function(n){n({type:U,payload:{msg:e,alertType:t}}),setTimeout((function(){return n({type:H})}),3500)}},le=function(e){return function(t){var n=JSON.parse(localStorage.getItem("categories")),c=n.findIndex((function(t){return t.id===e}));n.splice(c,1),localStorage.setItem("categories",JSON.stringify(n)),t({type:Z,payload:n}),t(de("Category deleted successfully","success"))}},ue=G.a.div(s||(s=Object(J.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  @media (max-width: 768px) {\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n  }\n"]))),je=G.a.div(d||(d=Object(J.a)(["\n  justify-content: center;\n  display: flex;\n  flex-direction: column;\n  text-align: ",";\n  padding: 5px;\n  margin: 5px;\n  width: ",";\n  min-height: ",";\n  cursor: ",";\n  border: ",";\n  border-radius: 9px;\n  color: ",";\n  font-weight: ",";\n\n  @media (max-width: 768px) {\n    max-width: ",";\n  }\n"])),(function(e){return e.isCategoriesDisplay?"center":"start"}),(function(e){return e.isCategoriesDisplay?"220px":"300px"}),(function(e){return e.isCategoriesDisplay?"60px":"150px"}),(function(e){var t=e.isSelected,n=e.isCategoriesDisplay;return t?"unset":" ".concat(n?"pointer":"unset"," ")}),(function(e){return e.isSelected?"9px double #377afe":"7px double #8f949c"}),(function(e){return e.isSelected?"#377afe":"black"}),(function(e){return e.isSelected?"bold":"normal"}),(function(e){return e.isCategoriesDisplay?"auto":"250px"})),be=G.a.button(l||(l=Object(J.a)(["\n  margin: 10px;\n  color: #fff;\n  padding: 5px;\n  border: none;\n  cursor: pointer;\n  border-radius: 12px;\n  background-color: #4f94fd;\n\n  &:focus {\n    outline: none;\n  }\n"]))),pe=G.a.div(u||(u=Object(J.a)(["\n  margin: 20px 5px;\n"]))),ge=function(){var e=Object(I.useState)(null),t=Object(Y.a)(e,2),n=t[0],c=t[1],a=Object(M.c)((function(e){return e.categoriesReducer})).categories,r=Object(M.b)(),i=Object(W.g)(),o=function(e,t){c(e),r(function(e){return function(t){t({type:q,payload:e})}}(t))};return Object($.jsx)($.Fragment,{children:a.length>0?Object($.jsx)(ue,{children:a.map((function(e,t){return Object($.jsx)(je,{isSelected:n===t,isCategoriesDisplay:!0,onClick:function(){return o(t,e)},children:Object($.jsxs)("span",{children:[" ",e.name]})},t)}))}):Object($.jsxs)(pe,{children:["You have no categories to display.",Object($.jsx)("br",{}),"Click",Object($.jsx)(be,{onClick:function(){return i.push("/categories/add-category")},children:"Here"}),"to add a new category."]})})},fe=n(18),xe=n.n(fe),Oe=n(22),he=n.p+"static/media/spinner.a1a99674.gif",ye=function(){return Object($.jsx)($.Fragment,{children:Object($.jsx)("img",{src:he,alt:"Loading...",style:{width:"17px",height:"17px"}})})},me=G.a.div(j||(j=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n"]))),ve=G.a.button(b||(b=Object(J.a)(["\n  color: #fff;\n  padding: 10px;\n  border: none;\n  cursor: pointer;\n  border-radius: 12px;\n  background-color: ",";\n  margin: 10px;\n  opacity: ",";\n  width: 200px;\n"])),(function(e){return e.deleteButton?"#c70a0a":"#377afe"}),(function(e){return e.isLoading?"40%":"none"})),we=Object(W.h)((function(){var e=Object(M.c)((function(e){return e.categoriesReducer})).currentCategory,t=Object(I.useState)(!1),n=Object(Y.a)(t,2),c=n[0],a=n[1],r=Object(M.b)(),i=Object(W.g)();if(!e)return Object($.jsx)(W.a,{to:"/"});var o=function(){var t=Object(Oe.a)(xe.a.mark((function t(){return xe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a(!0);try{r(le(e.id)),a(!1),i.push("/categories/view-categories")}catch(n){de(n.message),a(!1)}case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object($.jsxs)(me,{children:[Object($.jsx)(ve,{isLoading:c,disabled:c,onClick:function(){return o()},deleteButton:!0,children:"Press here to delete"}),Object($.jsx)(ve,{isLoading:c,disabled:c,onClick:function(){return a(!0),i.push("/categories/view-categories"),void a(!1)},children:"Go to category list"}),c&&Object($.jsx)(ye,{})]})})),Ce=G.a.div(p||(p=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Se=G.a.h1(g||(g=Object(J.a)(["\n  margin: 30px 0 30px 5px;\n  font-size: 25px;\n\n  @media (max-width: 768px) {\n    align-self: center;\n    margin: 30px 0;\n  }\n"]))),ke=G.a.div(f||(f=Object(J.a)(["\n  margin: 5px;\n"]))),Ee=G.a.span(x||(x=Object(J.a)(["\n  display: block;\n"]))),Te=G.a.span(O||(O=Object(J.a)(["\n  font-weight: bold;\n"]))),Re=[{id:"222",name:"pizza-place",address:"deizengof tel aviv",coordinates:"lat:0.002, long:0.002",category_id:"0"},{id:"333",name:"falafel-place",address:"ben yehuda tel aviv",coordinates:"lat:0.003, long:0.003",category_id:"0"},{id:"334",name:"humus-place",address:"ben yehuda tel aviv",coordinates:"lat:0.001353, long:0.135003",category_id:"0"},{id:"335",name:"steak-place",address:"gordon tel aviv",coordinates:"lat:0.0103, long:0.0503",category_id:"0"},{id:"336",name:"pasta-place",address:"jabutinsky tel aviv",coordinates:"lat:0.3153, long:0.5003",category_id:"0"},{id:"337",name:"bear-place",address:"rotchild tel aviv",coordinates:"lat:0.0413, long:0.01243121",category_id:"0"}],De=function(){var e=Object(M.c)((function(e){return e.categoriesReducer})).currentCategory;return e?Object($.jsxs)(Ce,{children:[Object($.jsx)(ke,{children:Object($.jsxs)("span",{children:["Displaying dummy locations.",Object($.jsx)("br",{})," On a real use case, they're taken from locations reducer, filtered by category id."]})}),Object($.jsx)(Se,{children:e.name}),Object($.jsx)(ue,{children:Re.map((function(e,t){var n=e.id,c=e.name,a=e.address,r=e.coordinates;return Object($.jsxs)(je,{children:[Object($.jsxs)(Ee,{children:[Object($.jsx)(Te,{children:"id:"})," ",n,"."]}),Object($.jsxs)(Ee,{children:[Object($.jsx)(Te,{children:"name:"})," ",c,"."]}),Object($.jsxs)(Ee,{children:[Object($.jsx)(Te,{children:"address:"}),a,"."]}),Object($.jsxs)(Ee,{children:[Object($.jsx)(Te,{children:"location:"}),r,"."]})]},t)}))})]}):Object($.jsx)(W.a,{to:"/"})},_e=n(14),Ae=n(35),Ie=n(36),Le="Hi, user",ze={categories:[],currentCategory:null,title:Le},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case P:return Object(ie.a)(Object(ie.a)({},e),{},{categories:c});case q:return Object(ie.a)(Object(ie.a)({},e),{},{currentCategory:c,title:"".concat(c.name)});case Q:var a=c.newCategories,r=c.newCurrentCategory;return Object(ie.a)(Object(ie.a)({},e),{},{categories:a,currentCategory:r,title:"".concat(r.name," - edit")});case X:return Object(ie.a)(Object(ie.a)({},e),{},{currentCategory:null,title:c});case K:return Object(ie.a)(Object(ie.a)({},e),{},{title:"".concat(e.currentCategory.name," - ").concat(c)});case V:return Object(ie.a)(Object(ie.a)({},e),{},{categories:c});case Z:return Object(ie.a)(Object(ie.a)({},e),{},{currentCategory:null,title:Le,categories:c});default:return e}},Je=[],Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Je,t=arguments.length>1?arguments[1]:void 0,n=t.type,c=t.payload;switch(n){case U:return[].concat(Object(oe.a)(e),[c]);case H:return[];default:return e}},Ye=Object(_e.combineReducers)({categoriesReducer:Ne,alertReducer:Ge}),Be=[Ie.a],Fe=Object(_e.createStore)(Ye,{},Object(Ae.composeWithDevTools)(_e.applyMiddleware.apply(void 0,Be))),We=G.a.form(h||(h=Object(J.a)(["\n  margin: 20px;\n  @media (max-width: 768px) {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    margin: 24px 0 0 0;\n  }\n"]))),Me=G.a.input(y||(y=Object(J.a)(["\n  padding: 10px;\n  width: 250px;\n  border: 1px solid #ccc;\n  border-radius: 5%;\n  &:focus {\n    outline: none;\n  }\n\n  @media (max-width: 768px) {\n    ::placeholder,\n    ::-webkit-input-placeholder {\n      font-size: 14px;\n    }\n  }\n"]))),Pe=G.a.button(m||(m=Object(J.a)(["\n  margin-left: 10px;\n  color: #fff;\n  padding: 10px;\n  border: none;\n  cursor: pointer;\n  border-radius: 12px;\n  background-color: #4f94fd;\n  opacity: ",";\n\n  @media (max-width: 768px) {\n    margin: 10px 0 0 0;\n  }\n\n  &:focus {\n    outline: none;\n  }\n"])),(function(e){return e.isLoading?"40%":"none"})),He=G.a.div(v||(v=Object(J.a)(["\n  display: inline-block;\n\n  @media (max-width: 768px) {\n    display: block;\n  }\n"]))),Ue=function(e){if(e.length>20)return Fe.dispatch(de("Error - category's length cannot exceed 20 characters","danger")),!1;var t=Fe.getState().categoriesReducer.categories;return 0===t.length||Ve(t,e)},Ve=function(e,t){return!e.find((function(e){return e.name===t}))||(Fe.dispatch(de("Error - category ".concat(t," already exsists"),"danger")),!1)},qe=function(e){var t=e.source,n=Object(I.useState)(""),c=Object(Y.a)(n,2),a=c[0],r=c[1],i=Object(I.useState)(!1),o=Object(Y.a)(i,2),s=o[0],d=o[1],l=Object(M.b)(),u=Object(M.c)((function(e){return e.alertReducer})),j=Object(M.c)((function(e){return e.categoriesReducer})).currentCategory,b=function(){switch(t){case"add":l((c=a,function(e){var t=[],n=JSON.parse(localStorage.getItem("categories")),a=Object(se.a)();n&&(t=Object(oe.a)(n)),t.push({id:a,name:c}),localStorage.setItem("categories",JSON.stringify(t)),e({type:V,payload:t}),e(de("Category added successfully","success"))})),d(!1);break;case"edit":l((e=j.id,n=a,function(t){var c=JSON.parse(localStorage.getItem("categories")),a=c.findIndex((function(t){return t.id===e}));c[a].name=n,localStorage.setItem("categories",JSON.stringify(c));var r=c[a];t({type:Q,payload:{newCategories:c,newCurrentCategory:r}}),t(de("Category edited successfully","success"))})),d(!1);break;default:l(de("Error - category ".concat(t," failed."),"danger"))}var e,n,c},p=function(){var e=Object(Oe.a)(xe.a.mark((function e(t){return xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),d(!0),Ue(a)?(b(),r("")):d(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"edit"!==t||j?Object($.jsx)($.Fragment,{children:Object($.jsxs)(We,{onSubmit:p,children:[Object($.jsx)(Me,{type:"text",onChange:function(e){return function(e){e.preventDefault(),r(e.target.value)}(e)},placeholder:"".concat(t," ").concat(j?'"'.concat(j.name,'"'):"a category"," name..."),value:a,required:!0}),Object($.jsxs)(He,{children:[Object($.jsx)(Pe,{disabled:s|u.length>0,isLoading:s|u.length>0,type:"submit",children:"Submit"})," ",s&&Object($.jsx)(ye,{})]})]})}):Object($.jsx)(W.a,{to:"/"})},Xe=G.a.div(w||(w=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n"]))),Ke=function(){return Object($.jsx)(Xe,{children:Object($.jsx)("h1",{children:"Welcome to locations app"})})},Qe=G.a.div(C||(C=Object(J.a)(["\n  padding: 20px;\n  opacity: 0.9;\n  background: ",";\n  color: #fff;\n  font-size: 20px;\n  text-align: center;\n"])),(function(e){return"danger"===e.alertType?"#dc3545":" #28a745"})),Ze=function(){var e=Object(M.c)((function(e){return e.alertReducer}));return null!==e&&e.length>0&&Object($.jsx)($.Fragment,{children:Object($.jsxs)("div",{style:{width:"100%"},children:[" ",e.map((function(e,t){return Object($.jsx)(Qe,{alertType:e.alertType,children:e.msg},t)}))]})})},$e=n(37),et=n(13),tt=G.a.div(S||(S=Object(J.a)(["\n  width: 100%;\n  height: 60px;\n  z-index: 1;\n  box-shadow: 0 1px 4px 0 rgba(0, 21, 41, 0.12);\n  background-color: #ffffff;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n    justify-content: unset;\n    min-height: 85px;\n  }\n"]))),nt=G.a.div(k||(k=Object(J.a)(["\n  @media (max-width: 768px) {\n    justify-content: unset;\n    margin-top: 5px;\n  }\n"]))),ct=Object(G.a)((function(e){e.isCurrentCategory,e.isSelected;var t=Object($e.a)(e,["isCurrentCategory","isSelected"]);return Object($.jsx)(et.b,Object(ie.a)({},t))}))(E||(E=Object(J.a)(["\n  opacity: ",";\n  text-decoration: none;\n  color: ",";\n  font-weight: ",";\n  pointer-events: ",";\n  cursor: ",";\n  margin: 0 10px;\n"])),(function(e){return e.isCurrentCategory?"unset":"20%"}),(function(e){return e.isSelected?"#377afe":"black"}),(function(e){return e.isSelected?"bold":"normal"}),(function(e){return e.isCurrentCategory?"all":"none"}),(function(e){return e.isSelected?"unset":"pointer"})),at=G.a.span(T||(T=Object(J.a)(["\n  margin-left: 20px;\n  color: #377afe;\n  font-weight: bold;\n  width: 400px;\n\n  @media (max-width: 768px) {\n    width: auto;\n    margin: 10px 0 5px 0;\n  }\n"]))),rt=Object(W.h)((function(){var e=Object(M.c)((function(e){return e.categoriesReducer})),t=e.currentCategory,n=e.title,c=Object(I.useState)(null),a=Object(Y.a)(c,2),r=a[0],i=a[1],o=Object(I.useState)(!1),s=Object(Y.a)(o,2),d=s[0],l=s[1],u=Object(M.b)(),j="/"===Object(W.g)().location.pathname;Object(I.useEffect)((function(){l(null!==t),t||i(null)}),[t]);var b=function(e){i(e),u({type:K,payload:e})};return Object($.jsxs)(tt,{className:"display-user",children:[Object($.jsx)(at,{children:n}),!j&&Object($.jsxs)(nt,{children:[Object($.jsx)(ct,{isCurrentCategory:d,to:"/categories/view-category",onClick:function(){return b("view")},isSelected:d&&"view"===r,children:"VIEW"}),Object($.jsx)(ct,{isCurrentCategory:d,to:"/categories/edit-category",onClick:function(){return b("edit")},isSelected:d&&"edit"===r,children:"EDIT"}),Object($.jsx)(ct,{isCurrentCategory:d,to:"/categories/delete-category",onClick:function(){return b("delete")},isSelected:d&&"delete"===r,children:"DELETE"})]})]})})),it=G.a.div(R||(R=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n"]))),ot=G.a.div(D||(D=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  overflow: auto;\n"]))),st=function(){return Object($.jsxs)(it,{children:[Object($.jsx)(rt,{}),Object($.jsxs)(ot,{children:[Object($.jsx)(Ze,{}),Object($.jsxs)(W.d,{children:[Object($.jsx)(W.b,{exact:!0,path:"/",component:Ke}),Object($.jsx)(W.b,{exact:!0,path:"/categories/view-categories",component:ge}),Object($.jsx)(W.b,{exact:!0,path:"/categories/view-category",component:De}),Object($.jsx)(W.b,{exact:!0,path:"/categories/add-category",render:function(e){return Object($.jsx)(qe,Object(ie.a)(Object(ie.a)({},e),{},{source:"add"}))}}),Object($.jsx)(W.b,{exact:!0,path:"/categories/edit-category",render:function(e){return Object($.jsx)(qe,Object(ie.a)(Object(ie.a)({},e),{},{source:"edit"}))}}),Object($.jsx)(W.b,{exact:!0,path:"/categories/delete-category",component:we}),Object($.jsx)(W.a,{from:"*",to:"/"})]})]})]})},dt=G.a.div(_||(_=Object(J.a)(["\n  background-color: #f0f2f5;\n  display: flex;\n  height: 100%;\n  padding-bottom:60px;\n"]))),lt=G.a.div(A||(A=Object(J.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  height: 60px;\n  background-color: 10px;\n  background-color: #f0f2f5;\n  text-align:center;\n  font-size:12px;\n  z-index:1;\n  box-shadow: -20px 7px 18px 0px;\n"])));var ut=function(){return Object(I.useEffect)((function(){Fe.dispatch((function(e){var t=JSON.parse(localStorage.getItem("categories"));t&&t.length>0&&e({type:P,payload:t})}))}),[]),Object($.jsx)(M.a,{store:Fe,children:Object($.jsx)(dt,{children:Object($.jsxs)(et.a,{children:[Object($.jsx)(re,{}),Object($.jsx)(st,{}),Object($.jsxs)(lt,{children:["WellDone Assignment ",Object($.jsx)("br",{}),"Using React Redux Styled-Components"]})]})})})};N.a.render(Object($.jsx)(L.a.StrictMode,{children:Object($.jsx)(ut,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.6585b354.chunk.js.map